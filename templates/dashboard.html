{% extends "layout.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}

<style>
/* Fallback styling to ensure pill buttons even if external CSS rules changed */
.buttons { display:flex; flex-wrap:wrap; gap:12px; margin:8px 0 18px; }
.buttons .button {
  display:inline-block;
  padding:10px 14px;
  border-radius:12px;
  background:rgba(255,255,255,0.07);
  color:#fff;
  text-decoration:none;
  line-height:1;
  box-shadow:0 1px 0 rgba(0,0,0,.2), inset 0 1px 0 rgba(255,255,255,.05);
  transition:background .18s ease, transform .02s ease;
}
.buttons .button:hover { background:rgba(255,255,255,0.14); }
.buttons .button:active { transform:translateY(1px); }
</style>

<h2 class="section-title">Data</h2>
<div class="buttons">
{% for btn in data_buttons %}
  {# Hide any legacy Hexes entries that point to sheets/Notion #}
  {% if (btn.endpoint == 'view_sheet' and btn.arg == 'Hexes') or (btn.endpoint == 'view_notion_db' and btn.arg == 'Hexes') %}
  {% else %}
    {% set href = btn.href if btn.href else (url_for('view_notion_db', db=btn.arg) if btn.endpoint == 'view_notion_db' else (url_for('view_sheet', sheet=btn.arg) if btn.endpoint == 'view_sheet' else url_for(btn.endpoint))) %}
    <a class="button" href="{{ href }}">
      {{ 'Hexes' if btn.endpoint == 'png_gallery' else btn.label }}
    </a>
  {% endif %}
{% endfor %}
</div>

<h2 class="section-title">Generators</h2>
<div class="buttons">
  <a class="button" href="{{ url_for('potion_generator') }}">Potions</a>
  {% for g in generators %}
    <a class="button" href="{{ url_for('generate', sheet=g) }}">{{ g }}</a>
  {% endfor %}
</div>

{% endblock %}