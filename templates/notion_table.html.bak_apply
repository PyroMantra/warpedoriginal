<!DOCTYPE html>
<html>
<head>
  <title>{{ db }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body style="background: #1f1f1f; color: #fff; font-family: 'Sirin Stencil', sans-serif; font-size: 1.1rem;">
  <a class="button top-right" href="/">‚Üê Back to Home</a>
  <h1>{{ db }}</h1>

  <div class="search-bar" style="text-align:right; margin-bottom:1rem;">
    <input type="text" id="search" placeholder="Search {{ db }}..." style="padding: 0.6rem; width: 300px; background-color: #2f2f2f; color: white; border: 1px solid #888;">
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const input = document.getElementById("search");
      const rows = document.querySelectorAll("table tbody tr");
      input.addEventListener("input", () => {
        const term = input.value.toLowerCase();
        rows.forEach(row => {
          row.style.display = row.innerText.toLowerCase().includes(term) ? "" : "none";
        });
      });
    });
  </script>

  <table style="width: 100%; border-collapse: collapse; table-layout: fixed;">
    <thead>
      <tr>
        {% for header in headers %}
          <th style="border: 1px solid #555; padding: 0.6rem; background-color: #333;">{{ header }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for row in rows %}
        <tr>
          {% for cell in row %}
            <td style="border: 1px solid #555; padding: 0.6rem; background-color: #2a2a2a; white-space: normal; word-wrap: break-word;">{{ cell }}</td>
          {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>